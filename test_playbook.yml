---
  - name: Install prerequisites and set up Apache HTTPD on CentOS 7
    hosts: httpd_servers
    gather_facts: no
    become: yes
    tasks:
      - name: create installer directory
        file:
          path: /opt/installer
          state: directory
        register: directory_result
        
      - name: show registered directory
        debug:
          var: directory_result

      # - name: Extract httpd and dependencies
      #   shell: "tar -zxvf {{ item }}"
      #   with_items:
      #     - "{{ httpd_download.dest }}"
      #   register: httpd_extracted

      # - name: Extract httpd and dependencies
      #   shell: "tar -zxvf {{ item }}"
      #   with_items:
      #     - "{{ apr_download.dest }}"
      #   register: apr_extracted

      # - name: Extract httpd and dependencies
      #   shell: "tar -zxvf {{ item }}"
      #   with_items:
      #     - "{{ apr-util_download.dest }}"
      #   register: apr-util_extracted